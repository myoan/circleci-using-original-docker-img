# Javascript Node CircleCI 2.0 configuration file
#
# Check https://circleci.com/docs/2.0/language-javascript/ for more details
#
version: 2
jobs:
  build:
    docker:
      - image: golang:1.9.2
    steps:
      - add_ssh_keys:
          fingerprints:
            - "f4:6e:aa:ee:f0:dd:94:05:3a:2f:31:2c:c6:f7:60:18"
      - checkout
      - run:
          name: "run go code"
          command: |
            git clone git@github.com:myoan/go-github-test.git
            cd go-github-test
            git config --global user.email "motoki.yoan@gmail.com"
            git config --global user.name "myoan"
            CI_BRANCH_NAME=br-`date +"%Y%m%d%I%M%S"`
            git checkout -b $CI_BRANCH_NAME
            echo 'hogehoge' >> go-file
            git commit -am "hogehoge"
            git push origin $CI_BRANCH_NAME
